(this["webpackJsonpsodiq-vezeti-assignment"]=this["webpackJsonpsodiq-vezeti-assignment"]||[]).push([[39],{1159:function(e,a,t){"use strict";var n=t(0);a.a=function(){var e=Object(n.useRef)(!0);return Object(n.useEffect)((function(){return function(){e.current=!1}}),[]),e}},1167:function(e,a,t){"use strict";a.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/\s+/," ").split(" ").slice(0,2).map((function(e){return e&&e[0].toUpperCase()})).join("")}},1170:function(e,a,t){"use strict";var n=t(56),r=t(30),c=t(0),l=t.n(c),o=t(3),i=t(610),s=t(15),u=Object(i.a)((function(e){return{root:{fontFamily:e.typography.fontFamily,alignItems:"center",borderRadius:2,display:"inline-flex",flexGrow:0,whiteSpace:"nowrap",cursor:"default",flexShrink:0,fontSize:e.typography.pxToRem(12),fontWeight:e.typography.fontWeightMedium,height:20,justifyContent:"center",letterSpacing:.5,minWidth:20,padding:e.spacing(.5,1),textTransform:"uppercase"},primary:{color:e.palette.primary.main,backgroundColor:Object(s.c)(e.palette.primary.main,.08)},secondary:{color:e.palette.secondary.main,backgroundColor:Object(s.c)(e.palette.secondary.main,.08)},error:{color:e.palette.error.main,backgroundColor:Object(s.c)(e.palette.error.main,.08)},success:{color:e.palette.success.main,backgroundColor:Object(s.c)(e.palette.success.main,.08)},warning:{color:e.palette.warning.main,backgroundColor:Object(s.c)(e.palette.warning.main,.08)}}}));a.a=function(e){var a=e.className,t=void 0===a?"":a,c=e.color,i=void 0===c?"secondary":c,s=e.children,m=(e.style,Object(r.a)(e,["className","color","children","style"])),d=u();return l.a.createElement("span",Object.assign({className:Object(o.a)(d.root,Object(n.a)({},d[i],i),t)},m),s)}},2168:function(e,a,t){"use strict";t.r(a);var n=t(8),r=t.n(n),c=t(12),l=t(28),o=t(0),i=t.n(o),s=t(610),u=t(1141),m=t(1078),d=t(19),p=t(337),g=t(1159),b=t(30),f=t(21),E=t(3),v=t(1142),h=t(1185),O=t(1097),j=t(126),y=t(1098),k=t(112),x=t(2118),S=t(2119),C=t(1419),w=t(1161),N=t.n(w),P=Object(s.a)((function(e){return{root:{},action:{marginBottom:e.spacing(1),"& + &":{marginLeft:e.spacing(1)}}}})),I=function(e){var a=e.className,t=Object(b.a)(e,["className"]),n=P();return i.a.createElement(v.a,Object.assign({className:Object(E.a)(n.root,a),container:!0,justify:"space-between",spacing:3},t),i.a.createElement(v.a,{item:!0},i.a.createElement(h.a,{separator:i.a.createElement(N.a,{fontSize:"small"}),"aria-label":"breadcrumb"},i.a.createElement(O.a,{variant:"body1",color:"inherit",to:"/app",component:f.a},"Dashboard"),i.a.createElement(O.a,{variant:"body1",color:"inherit",to:"/app/management",component:f.a},"Management"),i.a.createElement(j.a,{variant:"body1",color:"textPrimary"},"Invoices")),i.a.createElement(j.a,{variant:"h3",color:"textPrimary"},"All Invoices"),i.a.createElement(m.a,{mt:2},i.a.createElement(y.a,{className:n.action,startIcon:i.a.createElement(k.a,{fontSize:"small"},i.a.createElement(x.a,null))},"Import"),i.a.createElement(y.a,{className:n.action,startIcon:i.a.createElement(k.a,{fontSize:"small"},i.a.createElement(S.a,null))},"Export"))),i.a.createElement(v.a,{item:!0},i.a.createElement(y.a,{color:"secondary",variant:"contained",className:n.action,startIcon:i.a.createElement(k.a,{fontSize:"small"},i.a.createElement(C.a,null))},"New Invoice")))},A=t(43),z=t(24),D=t(4),F=t.n(D),L=t(1165),R=t.n(L),W=t(190),q=t.n(W),B=t(11),M=t(1173),T=t(1131),Y=t(1132),G=t(1219),J=t(1501),H=t(1502),U=t(1503),K=t(1504),Q=t(1505),V=t(1152),X=t(1071),Z=t(2177),$=t(1129),_=t(1115),ee=t(1471),ae=t(1170),te=t(1167),ne=[{id:"all",name:"All"},{id:"paid",name:"Paid"},{id:"pending",name:"Pending"},{id:"canceled",name:"Canceled"}],re=[{value:"createdAt|desc",label:"Newest first"},{value:"createdAt|asc",label:"Oldest first"}],ce=Object(s.a)((function(e){return{root:{},queryField:{width:500},statusField:{flexBasis:200},bulkOperations:{position:"relative"},bulkActions:{paddingLeft:4,paddingRight:4,marginTop:6,position:"absolute",width:"100%",zIndex:2,backgroundColor:e.palette.background.default},bulkAction:{marginLeft:e.spacing(2)},avatar:{backgroundColor:B.a.red[500],color:B.a.common.white}}})),le=function(e){var a=e.className,t=e.invoices,n=Object(b.a)(e,["className","invoices"]),r=ce(),c=Object(o.useState)([]),s=Object(l.a)(c,2),u=s[0],d=s[1],p=Object(o.useState)(0),g=Object(l.a)(p,2),v=g[0],h=g[1],x=Object(o.useState)(10),S=Object(l.a)(x,2),C=S[0],w=S[1],N=Object(o.useState)(""),P=Object(l.a)(N,2),I=P[0],D=P[1],L=Object(o.useState)(re[0].value),W=Object(l.a)(L,2),B=W[0],le=W[1],oe=Object(o.useState)({status:null}),ie=Object(l.a)(oe,2),se=ie[0],ue=ie[1],me=function(e){d(e.target.checked?t.map((function(e){return e.id})):[])},de=function(e,a,t){return e.filter((function(e){var n=!0;if(a){var r=!1;["name","email"].forEach((function(t){e.customer[t].toLowerCase().includes(a.toLowerCase())&&(r=!0)})),r||(n=!1)}return t.status&&e.status!==t.status&&(n=!1),n}))}(t,I,se),pe=function(e,a,t){return e.slice(a*t,a*t+t)}(de,v,C),ge=u.length>0,be=u.length>0&&u.length<t.length,fe=u.length===t.length;return i.a.createElement(M.a,Object.assign({className:Object(E.a)(r.root,a)},n),i.a.createElement(m.a,{p:2},i.a.createElement(m.a,{display:"flex",alignItems:"center"},i.a.createElement(T.a,{className:r.queryField,InputProps:{startAdornment:i.a.createElement(Y.a,{position:"start"},i.a.createElement(k.a,{fontSize:"small",color:"action"},i.a.createElement($.a,null)))},onChange:function(e){e.persist(),D(e.target.value)},placeholder:"Search invoices by customer",value:I,variant:"outlined"}),i.a.createElement(m.a,{flexGrow:1}),i.a.createElement(T.a,{label:"Sort By",name:"sort",onChange:function(e){e.persist(),le(e.target.value)},select:!0,SelectProps:{native:!0},value:B,variant:"outlined"},re.map((function(e){return i.a.createElement("option",{key:e.value,value:e.value},e.label)})))),i.a.createElement(m.a,{mt:2,display:"flex",alignItems:"center"},i.a.createElement(T.a,{className:r.statusField,label:"Status",name:"status",onChange:function(e){e.persist();var a=null;"all"!==e.target.value&&(a=e.target.value),ue((function(e){return Object(z.a)(Object(z.a)({},e),{},{status:a})}))},select:!0,SelectProps:{native:!0},value:se.status||"all",variant:"outlined"},ne.map((function(e){return i.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),ge&&i.a.createElement("div",{className:r.bulkOperations},i.a.createElement("div",{className:r.bulkActions},i.a.createElement(G.a,{checked:fe,indeterminate:be,onChange:me}),i.a.createElement(y.a,{variant:"outlined",className:r.bulkAction},"Delete"),i.a.createElement(y.a,{variant:"outlined",className:r.bulkAction},"Edit"))),i.a.createElement(q.a,null,i.a.createElement(m.a,{minWidth:1200},i.a.createElement(J.a,null,i.a.createElement(H.a,null,i.a.createElement(U.a,null,i.a.createElement(K.a,{padding:"checkbox"},i.a.createElement(G.a,{checked:fe,indeterminate:be,onChange:me})),i.a.createElement(K.a,null,"Customer"),i.a.createElement(K.a,null,"Status"),i.a.createElement(K.a,null,"Amount"),i.a.createElement(K.a,null,"ID"),i.a.createElement(K.a,null,"Date"),i.a.createElement(K.a,{align:"right"},"Actions"))),i.a.createElement(Q.a,null,pe.map((function(e){var a=u.includes(e.id);return i.a.createElement(U.a,{hover:!0,key:e.id,selected:a},i.a.createElement(K.a,{padding:"checkbox"},i.a.createElement(G.a,{checked:a,onChange:function(a){return t=e.id,void(u.includes(t)?d((function(e){return e.filter((function(e){return e!==t}))})):d((function(e){return[].concat(Object(A.a)(e),[t])})));var t},value:a})),i.a.createElement(K.a,null,i.a.createElement(m.a,{display:"flex",alignItems:"center"},i.a.createElement(V.a,{className:r.avatar},Object(te.a)(e.customer.name)),i.a.createElement(m.a,{ml:2},i.a.createElement(O.a,{variant:"subtitle2",color:"textPrimary",component:f.a,underline:"none",to:"#"},e.customer.name),i.a.createElement(j.a,{variant:"body2",color:"textSecondary"},e.customer.email)))),i.a.createElement(K.a,null,function(e){var a={canceled:{text:"Canceled",color:"error"},paid:{text:"Paid",color:"success"},pending:{text:"Pending",color:"warning"}}[e],t=a.text,n=a.color;return i.a.createElement(ae.a,{color:n},t)}(e.status)),i.a.createElement(K.a,null,R()(e.totalAmount).format("".concat(e.currency,"0,0.00"))),i.a.createElement(K.a,null,e.id),i.a.createElement(K.a,null,F()(e.issueDate).format("DD/MM/YYYY")),i.a.createElement(K.a,{align:"right"},i.a.createElement(X.a,{component:f.a,to:"#"},i.a.createElement(k.a,{fontSize:"small"},i.a.createElement(_.a,null))),i.a.createElement(X.a,{component:f.a,to:"/app/management/invoices/1"},i.a.createElement(k.a,{fontSize:"small"},i.a.createElement(ee.a,null)))))})))))),i.a.createElement(Z.a,{component:"div",count:de.length,onChangePage:function(e,a){h(a)},onChangeRowsPerPage:function(e){w(parseInt(e.target.value))},page:v,rowsPerPage:C,rowsPerPageOptions:[5,10,25]}))};le.defaultProps={invoices:[]};var oe=le,ie=Object(s.a)((function(e){return{root:{backgroundColor:e.palette.background.dark,minHeight:"100%",paddingTop:e.spacing(3),paddingBottom:100}}}));a.default=function(){var e=ie(),a=Object(g.a)(),t=Object(o.useState)([]),n=Object(l.a)(t,2),s=n[0],b=n[1],f=Object(o.useCallback)(Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.a.get("/api/invoices");case 3:t=e.sent,a.current&&b(t.data.invoices),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),[a]);return Object(o.useEffect)((function(){f()}),[f]),i.a.createElement(p.a,{className:e.root,title:"Invoice List"},i.a.createElement(u.a,{maxWidth:!1},i.a.createElement(I,null),i.a.createElement(m.a,{mt:3},i.a.createElement(oe,{invoices:s}))))}}}]);
//# sourceMappingURL=39.3650971e.chunk.js.map